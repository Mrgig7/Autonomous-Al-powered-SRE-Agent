<p align="center">
  <img src="https://readme-typing-svg.demolab.com?font=Fira+Code&weight=700&size=40&duration=3000&pause=1000&color=00D9FF&center=true&vCenter=true&multiline=true&repeat=false&width=800&height=100&lines=%F0%9F%A4%96+Autonomous+AI-powered+SRE+Agent" alt="Typing SVG" />
</p>

<p align="center">
  <img src="https://readme-typing-svg.demolab.com?font=Fira+Code&weight=500&size=18&duration=2000&pause=500&color=A855F7&center=true&vCenter=true&width=700&lines=Self-Healing+CI%2FCD+Platform;Detects+Failures+in+Real-Time;AI-Powered+Root+Cause+Analysis;Auto-Generates+Safe+Code+Fixes;Creates+Pull+Requests+Automatically" alt="Typing SVG" />
</p>

<p align="center">
  <img src="https://img.shields.io/badge/ğŸš§_STATUS-UNDER_DEVELOPMENT-orange?style=for-the-badge&labelColor=1a1a2e" alt="Status">
  <img src="https://img.shields.io/github/license/Mrgig7/Autonomous-Al-powered-SRE-Agent?style=for-the-badge&labelColor=1a1a2e&color=00d9ff" alt="License">
  <img src="https://img.shields.io/github/last-commit/Mrgig7/Autonomous-Al-powered-SRE-Agent?style=for-the-badge&labelColor=1a1a2e&color=a855f7" alt="Last Commit">
</p>

<p align="center">
  <a href="#-features"><img src="https://img.shields.io/badge/Python-3.11+-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python"></a>
  <a href="#-architecture"><img src="https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=fastapi&logoColor=white" alt="FastAPI"></a>
  <a href="#-features"><img src="https://img.shields.io/badge/React-18-61DAFB?style=for-the-badge&logo=react&logoColor=black" alt="React"></a>
  <a href="#-features"><img src="https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript"></a>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Celery-37814A?style=for-the-badge&logo=celery&logoColor=white" alt="Celery">
  <img src="https://img.shields.io/badge/PostgreSQL-336791?style=for-the-badge&logo=postgresql&logoColor=white" alt="PostgreSQL">
  <img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white" alt="Redis">
  <img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker">
</p>

<br>

<div align="center">

  **ğŸš§ This project is actively under development. Features may change. Contributions welcome!**

</div>

<br>

---

<br>

## ğŸ“‹ Table of Contents

<details>
<summary>Click to expand</summary>

- [ğŸŒŸ Overview](#-overview)
- [âœ¨ Key Features](#-key-features)
- [ğŸ†• What's New â€” Complete Feature Breakdown](#-whats-new--complete-feature-breakdown)
- [ğŸ—ï¸ Architecture](#ï¸-architecture)
- [ğŸš€ Quick Start](#-quick-start)
- [ğŸ”Œ API Reference](#-api-reference)
- [âš™ï¸ Configuration](#ï¸-configuration)
- [ğŸ§ª Testing & Evaluation](#-testing--evaluation)
- [ğŸ“ Project Structure](#-project-structure)
- [ğŸ—ºï¸ Roadmap](#ï¸-roadmap)
- [ğŸ¤ Contributing](#-contributing)
- [ğŸ“„ License](#-license)

</details>

<br>

---

<br>

## ğŸŒŸ Overview

<div align="center">

### **No more 3 AM debugging sessions. Let the AI agent fix your builds while you sleep.**

</div>

<br>

The **Autonomous AI-powered SRE Agent** is a cutting-edge platform that revolutionizes how engineering teams handle CI/CD failures. It monitors your CI/CD pipelines across **5 major providers**, automatically detects failures, performs AI-powered root cause analysis, generates safe code fixes, validates them in isolated sandboxes, and creates detailed pull requests â€” all **autonomously**.

<table>
<tr>
<td width="50%" valign="top">

### ğŸ¯ The Problem

- â° Hours spent debugging CI/CD failures
- ğŸ”„ Repetitive manual fixes for similar issues
- ğŸ˜´ Late-night on-call pages
- ğŸ“‰ Developer productivity drain
- ğŸ” Root cause analysis is time-consuming

</td>
<td width="50%" valign="top">

### âœ… Our Solution

- ğŸ” **Detects** failures in real-time via webhooks from 5 CI providers
- ğŸ§  **Diagnoses** root causes with AI-powered semantic log analysis
- ğŸ”§ **Generates** safe, context-aware fixes for 5 languages
- âœ… **Validates** in isolated Docker sandboxes with security scanning
- ğŸš€ **Creates** detailed Pull Requests with confidence scores & evidence

</td>
</tr>
</table>

<br>

---

<br>

## âœ¨ Key Features

<br>

<table>
<tr>
<td align="center" width="25%">
<img src="https://img.icons8.com/fluency/96/000000/webhook.png" width="60"/>
<br><br>
<b>ğŸ¯ Multi-Provider Detection</b>
<br><br>
Real-time webhooks from GitHub Actions, GitLab CI, CircleCI, Jenkins & Azure DevOps
</td>
<td align="center" width="25%">
<img src="https://img.icons8.com/fluency/96/000000/artificial-intelligence.png" width="60"/>
<br><br>
<b>ğŸ§  AI-Powered RCA</b>
<br><br>
Semantic log analysis with ML embeddings (FAISS + Sentence Transformers) and pattern matching
</td>
<td align="center" width="25%">
<img src="https://img.icons8.com/fluency/96/000000/code.png" width="60"/>
<br><br>
<b>ğŸ› ï¸ Autonomous Fixes</b>
<br><br>
LLM-powered code generation for Python, Node.js, Go, Java & Docker with line-level precision
</td>
<td align="center" width="25%">
<img src="https://img.icons8.com/fluency/96/000000/sandbox.png" width="60"/>
<br><br>
<b>ğŸ–ï¸ Sandbox Validation</b>
<br><br>
Isolated Docker environments with gitleaks, trivy & SBOM scanning before any PR
</td>
</tr>
</table>

<br>

<table>
<tr>
<td align="center" width="25%">
<img src="https://img.icons8.com/fluency/96/000000/pull-request.png" width="60"/>
<br><br>
<b>ğŸ“‹ Smart PR Management</b>
<br><br>
Auto-generated PRs with changelogs, confidence scores, danger labels & provenance artifacts
</td>
<td align="center" width="25%">
<img src="https://img.icons8.com/fluency/96/000000/shield.png" width="60"/>
<br><br>
<b>ğŸ” Enterprise Security</b>
<br><br>
JWT + GitHub/Google OAuth, RBAC, audit logging, CSRF protection & rate limiting
</td>
<td align="center" width="25%">
<img src="https://img.icons8.com/fluency/96/000000/dashboard.png" width="60"/>
<br><br>
<b>ğŸ“Š Modern Dashboard</b>
<br><br>
React 18 + TypeScript with real-time SSE streaming, dark mode & failure detail views
</td>
<td align="center" width="25%">
<img src="https://img.icons8.com/fluency/96/000000/combo-chart.png" width="60"/>
<br><br>
<b>ğŸ“ˆ Full Observability</b>
<br><br>
Prometheus metrics, Grafana dashboards, OpenTelemetry tracing & Tempo integration
</td>
</tr>
</table>

<br>

---

<br>

## ğŸ†• What's New â€” Complete Feature Breakdown

<br>

<table>
<tr>
<td>

### ğŸ”— 5 CI/CD Provider Integrations
**Connect your entire pipeline ecosystem**

- âœ… **GitHub Actions** â€” Full webhook verification, workflow_run/job events, log fetching
- âœ… **GitLab CI** â€” Pipeline and job event webhooks with token validation
- âœ… **CircleCI** â€” Job completion webhooks with HMAC signature verification
- âœ… **Jenkins** â€” Build notification webhooks with token-based auth
- âœ… **Azure DevOps** â€” Build/release webhooks with Basic auth verification
- âœ… Unified event normalization layer across all providers
- âœ… GitHub Action marketplace support (`action.yml`) for direct workflow integration

</td>
<td>

### ğŸŒ 5 Multi-Language Adapters
**Deterministic fix generation for your stack**

- âœ… **Python** â€” pip/poetry dependency resolution, import fixes, syntax repairs
- âœ… **Node.js** â€” npm/yarn package management, module resolution, config fixes
- âœ… **Go** â€” go.mod/go.sum dependency management, build error fixes
- âœ… **Java** â€” Maven/Gradle dependency resolution, compilation error fixes
- âœ… **Docker** â€” Dockerfile instruction fixes, base image updates, build stage repairs
- âœ… Automatic adapter selection based on log analysis and repository file detection
- âœ… Adapter registry with pluggable architecture for easy extension

</td>
</tr>
<tr>
<td>

### ğŸ” Authentication & Authorization
**Enterprise-grade multi-provider security**

- âœ… JWT-based authentication (access + refresh tokens via HttpOnly cookies)
- âœ… GitHub OAuth login with state validation, CSRF protection & scope verification
- âœ… Google OAuth integration
- âœ… Email/password registration with secure session management
- âœ… Role-based access control (RBAC) with granular permissions
- âœ… Redis-backed session management with configurable TTLs
- âœ… Comprehensive audit logging for all auth events

</td>
<td>

### ğŸ“¢ 5-Channel Notification System
**Never miss a critical event**

- âœ… **Slack** â€” Rich Block Kit messages, dedicated channels for alerts/critical/approvals
- âœ… **Microsoft Teams** â€” Adaptive Card notifications with action buttons
- âœ… **Email** â€” SMTP and SendGrid support with HTML templates
- âœ… **PagerDuty** â€” Incident creation/resolution with severity-based routing
- âœ… **Generic Webhook** â€” Bearer/Basic/HMAC auth for custom integrations
- âœ… Parallel dispatch with rate limiting and configurable minimum severity
- âœ… Pluggable factory pattern for adding custom notification channels

</td>
</tr>
<tr>
<td>

### ğŸ§¾ Explainability + Trust Dashboard
**Evidence-based failure analysis with full transparency**

- âœ… Root cause + log evidence with line indices and tags
- âœ… Patch preview (unified diff) with DiffViewer component
- âœ… FixPlan JSON preview with interactive JsonViewer
- âœ… Danger score breakdown + policy violations surfaced
- âœ… Scan summaries (gitleaks/trivy/SBOM + sandbox status)
- âœ… Provenance artifact viewer with full pipeline timeline
- âœ… Severity badges and visual risk indicators

</td>
<td>

### ğŸ“Š Production Observability Stack
**Complete monitoring, metrics, and distributed tracing**

- âœ… Prometheus metrics at `/metrics` (HTTP request rates, durations, pipeline outcomes)
- âœ… 4 pre-built Grafana dashboards: API Health, Pipeline Overview, Safety & Risk, Security
- âœ… OpenTelemetry tracing via OTLP with spans for every pipeline stage
- âœ… Tempo trace storage with Grafana Explore integration
- âœ… Correlation ID middleware linking logs â†” metrics â†” traces
- âœ… Key metrics: webhook dedup, pipeline runs/retries/throttled, policy violations
- ğŸ“– [Docs: observability.md](docs/observability.md)

</td>
</tr>
<tr>
<td>

### ğŸ–¥ï¸ React Dashboard & Landing Page
**Modern, full-featured web interface**

- âœ… React 18 + TypeScript + Vite with hot module replacement
- âœ… Landing page with hero section, feature blocks & GitHub login CTA
- âœ… Real-time dashboard with SSE event streaming (13 event types)
- âœ… Interactive failure detail views with log evidence
- âœ… DiffViewer, JsonViewer, Timeline, and SeverityBadge components
- âœ… Dark mode support with responsive design
- âœ… Session guard layer with automatic redirect on JWT expiry
- âœ… OAuth callback handler for GitHub login flow

</td>
<td>

### âš¡ Pipeline Reliability & Operations
**Production-grade resilience and safety**

- âœ… Idempotent webhook ingestion (duplicate deliveries ignored)
- âœ… Redis-locked concurrent pipeline execution per repo
- âœ… Configurable concurrency limits (default: 2 per repo)
- âœ… Exponential backoff retries with cooldown periods
- âœ… Loop protection â€” blocks PR churn after max attempts
- âœ… Per-repo webhook rate limiting (default: 30/min)
- âœ… Post-merge monitoring with automatic re-validation
- âœ… Incident playbooks for webhook storms, queue backlogs & scanner failures
- ğŸ“– [Docs: ops.md](docs/ops.md)

</td>
</tr>
<tr>
<td>

### ğŸ”’ Safety & Security Engine
**Multi-layered protection against unsafe changes**

- âœ… Configurable safety policy (`config/safety_policy.yaml`)
- âœ… Dual policy checks â€” plan-level AND patch-level validation
- âœ… Danger score computation with breakdown per risk factor
- âœ… Path allow/deny lists (protect critical infrastructure files)
- âœ… Secret detection patterns (blocks API keys, passwords, tokens)
- âœ… Patch size limits (max files, lines added, lines removed)
- âœ… Critic model validation â€” checks reasoning before execution
- âœ… Supply-chain scanning: gitleaks (secrets), trivy (vulnerabilities), syft (SBOM)
- âœ… PRs labeled `safe` or `needs-review` based on danger score threshold

</td>
<td>

### ğŸ§ª Real-Time Test Harness
**End-to-end SRE loop validation**

- âœ… Controlled failure-prone sample repository with GitHub Actions CI
- âœ… Automated failure scenario injection (push branch â†’ CI fails â†’ webhook â†’ fix â†’ PR)
- âœ… Testing Agent with API-driven subsystem validators
- âœ… Per-scenario and aggregate structured JSON reports
- âœ… Support for running all failures or selective subsets (`--failures 1,4,7`)
- âœ… Cleanup mode to remove test GitHub repos after validation
- âœ… Makefile convenience commands (`setup`, `dry-run`)
- ğŸ“– [Docs: test-harness/README.md](test-harness/README.md)

</td>
</tr>
<tr>
<td>

### ğŸ”Œ GitHub App & Repo Integration
**Seamless onboarding and repository configuration**

- âœ… GitHub App installation flow with state persistence
- âœ… Repository selector with permission validation (admin/maintain)
- âœ… Per-repo `.sre-agent.yaml` configuration file support
- âœ… Automation modes: `suggest`, `auto_pr`, `auto_merge`
- âœ… Protected paths â€” directories that must never be modified
- âœ… Configurable retry limits per repository
- âœ… Onboarding state tracking (oauth â†’ repo_selected â†’ app_installed â†’ dashboard_ready)
- ğŸ“– [Docs: phase1_onboarding.md](docs/phase1_onboarding.md)

</td>
<td>

### ğŸ“ˆ Offline Evaluation Harness
**Quantified fix quality with structured metrics**

- âœ… 35 curated test cases across multiple failure categories
- âœ… Mock LLM mode for deterministic, reproducible evaluations
- âœ… Metrics: Fix Success Rate, Safe Fix Rate, Average Danger Score, Mean Time to Repair
- âœ… Structured results output to `evals/results/`
- âœ… CLI: `python -m evals.run --limit 35 --model mock --out evals/results/run_local`

</td>
</tr>
</table>

<br>

---

<br>

## ğŸ—ï¸ Architecture

<br>

```mermaid
flowchart TB
    subgraph Input["ğŸ“¥ Event Sources"]
        GH[GitHub Actions]
        GL[GitLab CI]
        CCI[CircleCI]
        JNK[Jenkins]
        ADO[Azure DevOps]
    end
    
    subgraph Core["âš™ï¸ SRE Agent Core"]
        WH[Webhook Handler]
        NORM[Event Normalizer]
        ES[Event Store]
        CTX[Context Builder]
        RCA[RCA Engine]
        ADAPT[Adapter Registry]
    end
    
    subgraph AI["ğŸ§  AI Pipeline"]
        PLAN[Plan Generator]
        CRITIC[Critic Validator]
        PATCH[Patch Generator]
        POLICY[Policy Engine]
        SCAN[Security Scans]
        SANDBOX[Sandbox Validator]
    end
    
    subgraph Output["ğŸ“¤ Output"]
        PR[PR Creation]
        NOTIFY[Notifications]
        DASH[Dashboard SSE]
        EXPLAIN[Explainability]
    end
    
    subgraph Infra["ğŸ”§ Infrastructure"]
        DB[(PostgreSQL)]
        REDIS[(Redis)]
        CELERY[Celery Workers]
        PROM[Prometheus]
        GRAF[Grafana]
        TEMPO[Tempo Traces]
    end
    
    GH & GL & CCI & JNK & ADO --> WH
    WH --> NORM --> ES --> DB
    WH --> CELERY
    CELERY --> CTX --> RCA --> ADAPT
    ADAPT --> PLAN --> CRITIC --> PATCH --> POLICY --> SCAN --> SANDBOX
    SANDBOX --> PR
    SANDBOX --> NOTIFY
    SANDBOX --> DASH
    SANDBOX --> EXPLAIN
    
    CELERY <--> REDIS
    PROM --> GRAF
    TEMPO --> GRAF
```

<br>

### ğŸ”„ 8-Step Deterministic Fix Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DETERMINISTIC FIX PIPELINE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ 1.ADAPTER â”‚â”€â”€â–¶â”‚ 2. PLAN  â”‚â”€â”€â–¶â”‚ 3. PLAN  â”‚â”€â”€â–¶â”‚ 4.PATCH  â”‚                   â”‚
â”‚  â”‚  SELECT   â”‚   â”‚(LLMâ†’JSON)â”‚   â”‚  SAFETY  â”‚   â”‚(Diff Gen)â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚       â”‚              â”‚              â”‚              â”‚                            â”‚
â”‚       â–¼              â–¼              â–¼              â–¼                            â”‚
â”‚   Language       Fix Plan      Policy Check    Unified Diff                     â”‚
â”‚   Detection      JSON Only     Intent Eval     Constrained                      â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ 5. PATCH â”‚â”€â”€â–¶â”‚ 6. SCAN  â”‚â”€â”€â–¶â”‚  7. TEST  â”‚â”€â”€â–¶â”‚ 8. PR    â”‚                   â”‚
â”‚  â”‚  SAFETY  â”‚   â”‚(Security)â”‚   â”‚ (Sandbox) â”‚   â”‚(Creation)â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚       â”‚              â”‚              â”‚              â”‚                            â”‚
â”‚       â–¼              â–¼              â–¼              â–¼                            â”‚
â”‚   Path/Secret    gitleaks      Tests Pass?     safe / needs-review              â”‚
â”‚   Size Limits    trivy/SBOM    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    Provenance Attached              â”‚
â”‚   Danger Score   Secrets Scan  If YES â†’ PR                                      â”‚
â”‚                                If NO â†’ Alert                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<br>

### ğŸ› ï¸ Tech Stack

<table>
<tr>
<th>Layer</th>
<th>Technology</th>
<th>Purpose</th>
</tr>
<tr>
<td><b>ğŸŒ API</b></td>
<td><img src="https://img.shields.io/badge/FastAPI-009688?style=flat-square&logo=fastapi&logoColor=white"/></td>
<td>Async REST API framework with auto-generated docs</td>
</tr>
<tr>
<td><b>ğŸ–¥ï¸ Frontend</b></td>
<td><img src="https://img.shields.io/badge/React_18-61DAFB?style=flat-square&logo=react&logoColor=black"/> <img src="https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white"/> <img src="https://img.shields.io/badge/Vite-646CFF?style=flat-square&logo=vite&logoColor=white"/></td>
<td>Modern reactive UI with SSE streaming & dark mode</td>
</tr>
<tr>
<td><b>âš¡ Task Queue</b></td>
<td><img src="https://img.shields.io/badge/Celery-37814A?style=flat-square&logo=celery&logoColor=white"/> <img src="https://img.shields.io/badge/Redis-DC382D?style=flat-square&logo=redis&logoColor=white"/></td>
<td>Async pipeline processing with concurrency locking</td>
</tr>
<tr>
<td><b>ğŸ’¾ Database</b></td>
<td><img src="https://img.shields.io/badge/PostgreSQL-336791?style=flat-square&logo=postgresql&logoColor=white"/> <img src="https://img.shields.io/badge/Alembic-FF4500?style=flat-square"/></td>
<td>Event store, pipeline runs, audit logs with migrations</td>
</tr>
<tr>
<td><b>ğŸ§  AI/LLM</b></td>
<td><img src="https://img.shields.io/badge/Ollama-000000?style=flat-square"/> <img src="https://img.shields.io/badge/DeepSeek_Coder-FF6B6B?style=flat-square"/></td>
<td>Fix plan generation (JSON-only output with critic validation)</td>
</tr>
<tr>
<td><b>ğŸ” Embeddings</b></td>
<td><img src="https://img.shields.io/badge/Sentence_Transformers-FF9A00?style=flat-square"/> <img src="https://img.shields.io/badge/FAISS-00B4D8?style=flat-square"/></td>
<td>Semantic log analysis & knowledge base retrieval</td>
</tr>
<tr>
<td><b>ğŸ”’ Security</b></td>
<td><img src="https://img.shields.io/badge/gitleaks-333?style=flat-square"/> <img src="https://img.shields.io/badge/trivy-1904DA?style=flat-square"/> <img src="https://img.shields.io/badge/syft-FF6600?style=flat-square"/></td>
<td>Secrets detection, vulnerability scanning, SBOM generation</td>
</tr>
<tr>
<td><b>ğŸ“Š Observability</b></td>
<td><img src="https://img.shields.io/badge/Prometheus-E6522C?style=flat-square&logo=prometheus&logoColor=white"/> <img src="https://img.shields.io/badge/Grafana-F46800?style=flat-square&logo=grafana&logoColor=white"/> <img src="https://img.shields.io/badge/OpenTelemetry-425CC7?style=flat-square&logo=opentelemetry&logoColor=white"/> <img src="https://img.shields.io/badge/Tempo-F46800?style=flat-square"/></td>
<td>Metrics, dashboards, distributed tracing, trace storage</td>
</tr>
<tr>
<td><b>ğŸ³ Container</b></td>
<td><img src="https://img.shields.io/badge/Docker-2496ED?style=flat-square&logo=docker&logoColor=white"/> <img src="https://img.shields.io/badge/Docker_Compose-2496ED?style=flat-square&logo=docker&logoColor=white"/></td>
<td>Containerization, orchestration & sandbox isolation</td>
</tr>
</table>

<br>

---

<br>

## ğŸš€ Quick Start

<br>

### Prerequisites

<table>
<tr>
<td>âœ…</td>
<td><b>Python 3.11+</b></td>
<td>Core runtime</td>
</tr>
<tr>
<td>âœ…</td>
<td><b>Docker & Docker Compose</b></td>
<td>Container orchestration & sandbox</td>
</tr>
<tr>
<td>âœ…</td>
<td><b>Poetry</b></td>
<td>Python dependency management</td>
</tr>
<tr>
<td>âœ…</td>
<td><b>Node.js 18+</b></td>
<td>Frontend development</td>
</tr>
<tr>
<td>âœ…</td>
<td><b>GitHub PAT</b></td>
<td>API access for webhooks & log fetching</td>
</tr>
</table>

<br>

### ğŸ³ Option 1: Docker (Recommended)

```bash
# Clone the repository
git clone https://github.com/Mrgig7/Autonomous-Al-powered-SRE-Agent.git
cd Autonomous-Al-powered-SRE-Agent

# Configure environment
cp .env.example .env
# Edit .env with your GitHub token and settings

# Start all services (API, Worker, DB, Redis, Prometheus, Grafana, Tempo, OTel)
docker-compose up -d

# Optional: Start with frontend
docker-compose --profile with-frontend up -d

# Optional: Start with local LLM (requires GPU)
docker-compose --profile local-llm up -d

# Check status
docker-compose ps
```

<br>

### ğŸ’» Option 2: Local Development

```bash
# Clone the repository
git clone https://github.com/Mrgig7/Autonomous-Al-powered-SRE-Agent.git
cd Autonomous-Al-powered-SRE-Agent

# Configure environment
cp .env.example .env

# Start infrastructure
docker-compose up -d postgres redis

# Install Python dependencies
poetry install

# Run database migrations
poetry run alembic upgrade head

# Terminal 1: Start API server
poetry run uvicorn sre_agent.main:app --reload --host 0.0.0.0 --port 8000

# Terminal 2: Start Celery worker
poetry run celery -A sre_agent.celery_app worker --loglevel=info

# Terminal 3: Start frontend
cd frontend && npm ci && npm run dev
```

<br>

### ğŸŒ Access Points

| Service | URL | Description |
|---------|-----|-------------|
| ğŸ–¥ï¸ **Dashboard** | http://localhost:3000 | React frontend with SSE streaming |
| ğŸ“š **API Docs** | http://localhost:8000/docs | Swagger UI (auto-generated) |
| ğŸ“Š **Prometheus** | http://localhost:9090 | Metrics & alerting |
| ğŸ“ˆ **Grafana** | http://localhost:3001 | Dashboards & trace explorer (admin/admin) |
| ğŸ” **Tempo** | http://localhost:3200 | Distributed trace storage |
| ğŸ“‰ **Metrics** | http://localhost:8000/metrics | Raw Prometheus metrics endpoint |

<br>

### ğŸ® GitHub Action Usage

Add the SRE Agent to your workflow for automatic failure analysis:

```yaml
# .github/workflows/sre-agent.yml
name: SRE Agent Analysis
on:
  workflow_run:
    workflows: ["CI"]
    types: [completed]

jobs:
  analyze:
    if: ${{ github.event.workflow_run.conclusion == 'failure' }}
    runs-on: ubuntu-latest
    steps:
      - uses: Mrgig7/Autonomous-Al-powered-SRE-Agent@main
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          auto-create-pr: 'true'
          notify-slack: 'true'
          slack-webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
```

<br>

---

<br>

## ğŸ”Œ API Reference

<br>

### Webhook Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/webhooks/github` | GitHub Actions webhook receiver |
| `POST` | `/webhooks/gitlab` | GitLab CI webhook receiver |
| `POST` | `/webhooks/circleci` | CircleCI webhook receiver |
| `POST` | `/webhooks/jenkins` | Jenkins webhook receiver |
| `POST` | `/webhooks/azure-devops` | Azure DevOps webhook receiver |

### Core Endpoints

<details>
<summary><b>ğŸ¥ Health Check</b></summary>

```http
GET /health
```

**Response:**
```json
{
  "status": "healthy",
  "version": "1.0.0",
  "database": "connected",
  "redis": "connected"
}
```
</details>

<details>
<summary><b>ğŸ” Get Failure Analysis</b></summary>

```http
GET /api/v1/failures/{failure_id}/analysis
```

Returns root cause, category, confidence score, and evidence lines.
</details>

<details>
<summary><b>ğŸ§¾ Get Explanation (Explainability)</b></summary>

```http
GET /api/v1/failures/{failure_id}/explain
```

Returns evidence-based failure explanation with root cause, log evidence with line indices, danger score breakdown, and policy violations.
</details>

<details>
<summary><b>ğŸ“œ Get Provenance Artifact</b></summary>

```http
GET /api/v1/runs/{run_id}/artifact
```

Returns full provenance including plan JSON, policy decisions, scan results (gitleaks, trivy, SBOM), and validation results.
</details>

<details>
<summary><b>ğŸ“Š Dashboard Stream (SSE)</b></summary>

```http
GET /api/v1/dashboard/stream
```

Server-Sent Events stream with 13 event types: `ingest`, `context`, `rca`, `fix_pipeline`, `adapter_select`, `plan`, `policy_plan`, `clone`, `patch`, `policy_patch`, `validate`, `pr_create`, `pipeline`.
</details>

### Auth Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/api/v1/auth/register` | User registration |
| `POST` | `/api/v1/auth/login` | Email/password login |
| `POST` | `/api/v1/auth/github/login` | GitHub OAuth start/exchange |
| `POST` | `/api/v1/auth/logout` | Session logout |
| `GET` | `/api/v1/users/me` | Get current user profile |
| `GET` | `/api/v1/user/repos` | List GitHub repositories |
| `POST` | `/api/v1/integration/install` | Start GitHub App installation |
| `POST` | `/api/v1/integration/install/confirm` | Confirm GitHub App installation |

<br>

ğŸ“– **Full API documentation:** http://localhost:8000/docs

<br>

---

<br>

## âš™ï¸ Configuration

<br>

### Environment Variables

The `.env.example` file contains **156 configurable options** organized into sections:

| Section | Key Variables | Description |
|---------|--------------|-------------|
| **Core** | `GITHUB_TOKEN`, `GITHUB_WEBHOOK_SECRET` | GitHub API access & webhook verification |
| **Database** | `DATABASE_URL`, `REDIS_URL` | PostgreSQL and Redis connections |
| **LLM** | `LLM_PROVIDER`, `OLLAMA_MODEL`, `OLLAMA_BASE_URL` | AI model configuration (ollama/mock) |
| **Auth** | `JWT_SECRET_KEY`, `GITHUB_OAUTH_CLIENT_ID/SECRET` | Authentication & OAuth settings |
| **Google OAuth** | `GOOGLE_OAUTH_CLIENT_ID/SECRET` | Google login integration |
| **Sandbox** | `SANDBOX_DOCKER_IMAGE`, `ENABLE_SCANS`, `FAIL_ON_SECRETS` | Sandbox & security scanning |
| **Slack** | `SLACK_ENABLED`, `SLACK_WEBHOOK_URL`, `SLACK_BOT_TOKEN` | Slack notification channel |
| **Teams** | `TEAMS_ENABLED`, `TEAMS_WEBHOOK_URL` | Microsoft Teams notifications |
| **Email** | `EMAIL_ENABLED`, `SMTP_HOST`, `SENDGRID_API_KEY` | Email notifications (SMTP/SendGrid) |
| **PagerDuty** | `PAGERDUTY_ENABLED`, `PAGERDUTY_ROUTING_KEY` | Incident management integration |
| **Webhook** | `WEBHOOK_ENABLED`, `WEBHOOK_URL`, `WEBHOOK_AUTH_TYPE` | Generic webhook notifications |
| **GitLab** | `GITLAB_ENABLED`, `GITLAB_TOKEN` | GitLab CI provider |
| **CircleCI** | `CIRCLECI_ENABLED`, `CIRCLECI_TOKEN` | CircleCI provider |
| **Jenkins** | `JENKINS_ENABLED`, `JENKINS_URL`, `JENKINS_TOKEN` | Jenkins provider |
| **Azure DevOps** | `AZURE_DEVOPS_ENABLED`, `AZURE_DEVOPS_PAT` | Azure DevOps provider |
| **Reliability** | `MAX_PIPELINE_ATTEMPTS`, `COOLDOWN_SECONDS` | Retry/backoff/loop protection |
| **Phase Flags** | `PHASE1_ENABLE_DASHBOARD`, `PHASE1_ENABLE_INSTALL_FLOW` | Feature flag toggles |

<br>

### ğŸ›¡ï¸ Safety Policy

```yaml
# config/safety_policy.yaml
paths:
  allowed:
    - "src/**"
    - "tests/**"
  forbidden:
    - ".github/workflows/**"  # Never edit workflows
    
secrets:
  forbidden_patterns:
    - "(?i)api[_-]?key"
    - "(?i)password"
    
patch_limits:
  max_files: 10
  max_lines_added: 500
  max_lines_removed: 200
  
danger:
  safe_max: 25  # Score < 25 = "safe" label
```

<br>

### ğŸ“‚ Repository Configuration

Add `.sre-agent.yaml` to your repository root:

```yaml
automation_mode: suggest   # suggest | auto_pr | auto_merge
protected_paths:
  - infra/**
  - payments/**
retry_limit: 3
```

<br>

---

<br>

## ğŸ§ª Testing & Evaluation

<br>

### Unit Tests

```bash
# Run all tests
poetry run pytest

# Run with coverage
poetry run pytest --cov=src/sre_agent --cov-report=html

# Run specific tests
poetry run pytest tests/test_api.py -v
```

### Offline Evaluation Harness

```bash
# Run 35-case evaluation with mock LLM
python -m evals.run --limit 35 --model mock --out evals/results/run_local
```

### ğŸ“Š Evaluation Metrics

| Model | Cases | Fix Success | Safe Fix Rate | Avg Danger | Avg MTTR |
|-------|------:|------------:|--------------:|-----------:|---------:|
| mock  | 35    | 71.4%       | 71.4%         | 13.0       | 0.00s    |

### Real-Time Test Harness

Validates the **full end-to-end SRE loop**: push failure â†’ CI fails â†’ webhook â†’ pipeline â†’ fix â†’ PR.

```bash
cd test-harness
make setup                                  # Install dependencies
python run_harness.py --failures all        # Run all failure scenarios
python run_harness.py --failures 1,4,7      # Run specific scenarios
python run_harness.py --failures all --cleanup  # Run + cleanup GitHub repo
```

Reports generated at:
- Per-case: `test-harness/reports/validator-failure-XX.json`
- Aggregate: `test-harness/reports/harness-report.json`

<br>

---

<br>

## ğŸ“ Project Structure

<br>

```
ğŸ“¦ Autonomous-AI-powered-SRE-Agent
â”œâ”€â”€ ğŸ“„ action.yml                   # GitHub Action marketplace definition
â”œâ”€â”€ ğŸ“„ docker-compose.yml           # 10-service container orchestration
â”œâ”€â”€ ğŸ“„ Dockerfile                   # API/Worker container build
â”œâ”€â”€ ğŸ“„ pyproject.toml               # Python dependencies (Poetry)
â”‚
â”œâ”€â”€ ğŸ“‚ src/sre_agent/               # Main application package (23 sub-packages)
â”‚   â”œâ”€â”€ ğŸ“‚ adapters/                # Multi-language: Python, Node, Go, Java, Docker
â”‚   â”œâ”€â”€ ğŸ“‚ ai/                      # LLM integration (plan generation, embeddings, critic)
â”‚   â”œâ”€â”€ ğŸ“‚ api/                     # FastAPI routes (14 route modules)
â”‚   â”‚   â””â”€â”€ ğŸ“‚ webhooks/            # GitHub, GitLab, CircleCI, Jenkins, Azure DevOps
â”‚   â”œâ”€â”€ ğŸ“‚ auth/                    # JWT, OAuth, RBAC, session management
â”‚   â”œâ”€â”€ ğŸ“‚ core/                    # Logging, Redis service
â”‚   â”œâ”€â”€ ğŸ“‚ explainability/          # Evidence-based failure explanations
â”‚   â”œâ”€â”€ ğŸ“‚ fix_pipeline/            # 8-step deterministic fix orchestrator
â”‚   â”œâ”€â”€ ğŸ“‚ intelligence/            # RCA engine, failure pattern matching
â”‚   â”œâ”€â”€ ğŸ“‚ knowledge/              # Knowledge base & FAISS embeddings
â”‚   â”œâ”€â”€ ğŸ“‚ middleware/              # Request processing middleware
â”‚   â”œâ”€â”€ ğŸ“‚ models/                  # SQLAlchemy database models
â”‚   â”œâ”€â”€ ğŸ“‚ notifications/          # Slack, Teams, Email, PagerDuty, Webhook
â”‚   â”œâ”€â”€ ğŸ“‚ observability/          # Prometheus metrics, OTel tracing, middleware
â”‚   â”œâ”€â”€ ğŸ“‚ ops/                     # Operational reliability (rate limit, concurrency)
â”‚   â”œâ”€â”€ ğŸ“‚ pr/                      # Pull request creation & management
â”‚   â”œâ”€â”€ ğŸ“‚ providers/              # CI/CD provider abstractions
â”‚   â”œâ”€â”€ ğŸ“‚ safety/                  # Policy engine, danger scoring, diff parsing
â”‚   â”œâ”€â”€ ğŸ“‚ sandbox/                # Docker sandbox, test runner, scanners
â”‚   â”‚   â””â”€â”€ ğŸ“‚ scanners/           # gitleaks, trivy, syft integrations
â”‚   â”œâ”€â”€ ğŸ“‚ schemas/                # Pydantic models (14 schema modules)
â”‚   â”œâ”€â”€ ğŸ“‚ services/               # Business logic (18 service modules)
â”‚   â””â”€â”€ ğŸ“‚ tasks/                   # Celery async tasks (dispatch, context, fix)
â”‚
â”œâ”€â”€ ğŸ“‚ frontend/                    # React 18 + TypeScript + Vite
â”‚   â””â”€â”€ ğŸ“‚ src/
â”‚       â”œâ”€â”€ ğŸ“‚ pages/               # Landing, Login, OAuthCallback, Dashboard, FailureDetails
â”‚       â”œâ”€â”€ ğŸ“‚ components/          # DiffViewer, JsonViewer, SeverityBadge, Timeline
â”‚       â”œâ”€â”€ ğŸ“‚ api/                 # API client
â”‚       â””â”€â”€ ğŸ“‚ styles/             # CSS styles
â”‚
â”œâ”€â”€ ğŸ“‚ test-harness/                # Real-time end-to-end test system
â”‚   â”œâ”€â”€ ğŸ“‚ sample-app/             # Failure-prone test application
â”‚   â”œâ”€â”€ ğŸ“‚ testing-agent/          # API-driven subsystem validators
â”‚   â””â”€â”€ ğŸ“‚ reports/                # Generated JSON test reports
â”‚
â”œâ”€â”€ ğŸ“‚ observability/               # Infrastructure configurations
â”‚   â”œâ”€â”€ ğŸ“‚ grafana/                # Dashboard provisioning & JSON dashboards
â”‚   â”œâ”€â”€ ğŸ“‚ prometheus/             # Scrape config & alert rules
â”‚   â”œâ”€â”€ ğŸ“‚ otel-collector/         # OpenTelemetry Collector config
â”‚   â””â”€â”€ ğŸ“‚ tempo/                  # Tempo trace storage config
â”‚
â”œâ”€â”€ ğŸ“‚ evals/                       # Offline evaluation harness (35 test cases)
â”œâ”€â”€ ğŸ“‚ tests/                       # Unit & integration test suite
â”œâ”€â”€ ğŸ“‚ alembic/                     # Database migration scripts
â”œâ”€â”€ ğŸ“‚ config/                      # Safety policy YAML
â”œâ”€â”€ ğŸ“‚ docs/                        # Documentation
â”‚   â”œâ”€â”€ ğŸ“„ pipeline.md             # Pipeline flow documentation
â”‚   â”œâ”€â”€ ğŸ“„ ops.md                  # Reliability & operations guide
â”‚   â”œâ”€â”€ ğŸ“„ observability.md        # Monitoring & tracing setup
â”‚   â”œâ”€â”€ ğŸ“„ phase1_onboarding.md    # OAuth & onboarding runbook
â”‚   â”œâ”€â”€ ğŸ“„ phase2_repo_integration.md  # Repository integration guide
â”‚   â””â”€â”€ ğŸ“„ PUBLISHING.md          # Publishing guidelines
â””â”€â”€ ğŸ“‚ .github/                     # CI/CD workflows
```

<br>

---

<br>

## ğŸ—ºï¸ Roadmap

<br>

### âœ… Completed

- [x] ğŸ—ï¸ Project foundation & architecture
- [x] ğŸ“¡ Event ingestion API (5 CI/CD providers)
- [x] ğŸ§  AI fix generation engine with critic validation
- [x] ğŸ–ï¸ Sandbox validation engine with supply-chain scanning
- [x] ğŸ“‹ PR creation service with danger scoring & labels
- [x] ğŸŒ React 18 Dashboard with landing page & SSE streaming
- [x] ğŸ” JWT + GitHub OAuth + Google OAuth + RBAC
- [x] ğŸ”” 5-Channel Notification System (Slack, Teams, Email, PagerDuty, Webhook)
- [x] ğŸ“Š Dashboard API, analytics & real-time SSE (13 event types)
- [x] ğŸ“ Comprehensive audit logging system
- [x] ğŸ§¾ Explainability + Trust Dashboard with evidence & provenance
- [x] ğŸ“ˆ Full Observability Stack (Prometheus, Grafana, OTel, Tempo)
- [x] ğŸŒ Multi-Language Adapters (Python, Node, Go, Java, Docker)
- [x] ğŸ”’ Security Scans (gitleaks, trivy, syft SBOM)
- [x] âš¡ Pipeline reliability (idempotent ingestion, concurrency locks, retry/backoff, loop protection)
- [x] ğŸ”Œ GitHub App integration & `.sre-agent.yaml` repo config
- [x] ğŸ§ª Real-time test harness with testing agent
- [x] ğŸ“ˆ Offline evaluation harness (35 cases)
- [x] ğŸ® GitHub Action marketplace support (`action.yml`)
- [x] ğŸ”— Post-merge monitoring & re-validation

<br>

### ğŸš§ In Progress

- [ ] ğŸŒ Production website with full onboarding flow
- [ ] ğŸ“Š Advanced analytics & reporting dashboards
- [ ] ğŸ” Enhanced security features (token encryption, HMAC-signed artifacts)

<br>

### ğŸ”® Planned

- [ ] ğŸ“± Mobile-responsive PWA
- [ ] ğŸ¤– AI model fine-tuning on proprietary failure data
- [ ] ğŸŒ Multi-region deployment support
- [ ] ğŸ“Š Custom dashboard widgets
- [ ] ğŸ”— Slack/Teams interactive approval workflows
- [ ] ğŸ”„ Live LLM provider switching (OpenAI, Anthropic, Gemini)

<br>

---

<br>

## ğŸ¤ Contributing

<br>

We welcome contributions! Here's how to get started:

```bash
# 1. Fork the repository

# 2. Create your feature branch
git checkout -b feature/AmazingFeature

# 3. Commit your changes
git commit -m 'Add some AmazingFeature'

# 4. Push to the branch
git push origin feature/AmazingFeature

# 5. Open a Pull Request
```

<br>

### ğŸ“ Code Standards

- âœ… Follow PEP 8 for Python (enforced by Ruff)
- âœ… Use TypeScript strict mode for frontend
- âœ… Add tests for new features
- âœ… Update documentation
- âœ… All PRs must pass safety policy checks

<br>

---

<br>

## ğŸ“„ License

<br>

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

<br>

---

<br>

<p align="center">
  <b>Built with â¤ï¸ for SRE teams everywhere</b>
</p>

<p align="center">
  <a href="https://github.com/Mrgig7/Autonomous-Al-powered-SRE-Agent/issues">ğŸ› Report Bug</a>
  â€¢
  <a href="https://github.com/Mrgig7/Autonomous-Al-powered-SRE-Agent/issues">ğŸ’¡ Request Feature</a>
  â€¢
  <a href="https://github.com/Mrgig7/Autonomous-Al-powered-SRE-Agent/stargazers">â­ Star the Repo</a>
</p>

<p align="center">
  <img src="https://img.shields.io/github/stars/Mrgig7/Autonomous-Al-powered-SRE-Agent?style=social" alt="Stars">
  <img src="https://img.shields.io/github/forks/Mrgig7/Autonomous-Al-powered-SRE-Agent?style=social" alt="Forks">
  <img src="https://img.shields.io/github/watchers/Mrgig7/Autonomous-Al-powered-SRE-Agent?style=social" alt="Watchers">
</p>
